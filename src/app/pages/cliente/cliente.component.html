<p-table [value]="data" dataKey="id">
  <ng-template pTemplate="header">
    <tr>
      <th>Nome</th>
      <th>Telefone</th>
      <th>Latitude</th>
      <th>Longitude</th>
      <th>Descrição do Endereço</th>
      <th>
        Ações
        <button pButton icon="pi pi-plus" (click)="openDialog()" class="p-button-rounded p-button-success" style="float: right;"></button>
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-item>
    <tr>
      <td>{{ item.name }}</td>
      <td>{{ item.phone }}</td> <!-- Corrigido para 'phone' -->
      <td>{{ item.latitude }}</td> <!-- Corrigido para 'latitude' -->
      <td>{{ item.longitude }}</td> <!-- Corrigido para 'longitude' -->
      <td>{{ item.addressDescription }}</td> <!-- Corrigido para 'addressDescription' -->
      <td>
        <div class="button-group">
          <button pButton icon="pi pi-pencil" (click)="editItem(item)" class="p-button-rounded p-button-info"></button>
          <button pButton icon="pi pi-trash" (click)="deleteItem(item.id)" class="p-button-rounded p-button-danger"></button>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>

<!-- Dialog to add an item -->
<p-dialog header="Add Item" [(visible)]="displayDialog" [style]="{width: '400px'}">
  <form (ngSubmit)="addItem()" #itemForm="ngForm">
    <div class="p-fluid">
      <div class="p-field">
        <label for="name">Nome</label>
        <input id="name" pInputText [(ngModel)]="newItem.name" name="name" required #name="ngModel" />
        <div *ngIf="name.invalid && name.touched" class="p-error">Nome é obrigatório.</div>
      </div>
      <br/>
      <div class="p-field">
        <label for="phone">Telefone</label>
        <p-inputMask mask="(99) 99999-9999" [(ngModel)]="newItem.phone" name="phone" required #phone="ngModel"></p-inputMask>
        <div *ngIf="phone.invalid && phone.touched" class="p-error">Telefone é obrigatório.</div>
      </div>
      <br/>
      <div class="p-field">
        <label for="latitude">Latitude</label>
        <input pInputText [(ngModel)]="newItem.latitude" name="latitude" required #latitude="ngModel"/>
        <div *ngIf="latitude.invalid && latitude.touched" class="p-error">Latitude é obrigatória.</div>
      </div>
      <br/>
      <div class="p-field">
        <label for="longitude">Longitude</label>
        <input pInputText [(ngModel)]="newItem.longitude" name="longitude" required #longitude="ngModel"/>
        <div *ngIf="longitude.invalid && longitude.touched" class="p-error">Longitude é obrigatória.</div>
      </div>
      <br/>
      <div class="p-field">
        <label for="addressDescription">Descrição do Endereço</label>
        <input id="addressDescription" pInputText [(ngModel)]="newItem.addressDescription" name="addressDescription" required #addressDescription="ngModel" />
        <div *ngIf="addressDescription.invalid && addressDescription.touched" class="p-error">Descrição do Endereço é obrigatória.</div>
      </div>
      <br/>
      <p-footer style="display: flex; flex-direction: column; gap: 10px;">
        <button pButton label="Add" type="submit" [disabled]="itemForm.invalid" style="background-color: #22c55e; color: white; border: none;"></button>
        <button pButton label="Cancel" icon="pi pi-times" (click)="displayDialog = false" style="background-color: #ef4444; color: white; border: none;"></button>
      </p-footer>
    </div>
  </form>
</p-dialog>
