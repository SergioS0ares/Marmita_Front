import{a as b,b as l,c as v,d as h,e as w,f as x,g as C,h as M,i as y,j as T,k as L,l as P,m as R}from"./chunk-A3LBYIUB.js";import{E,F as N,G as F,M as B,N as I,j as S}from"./chunk-FQN7SRPL.js";import{Fa as d,Ya as f,_ as s,ab as e,bb as o,cb as n,da as u,hb as c,qb as a,ub as g}from"./chunk-ZJB6LXJZ.js";var X=(()=>{let r=class r{constructor(){this.formBuilder=s(M),this.http=s(S),this.loginService=s(N),this.messageService=s(E),this.form=this.formBuilder.nonNullable.group({username:["",l.required],password:["",l.required],confirmPassword:["",l.required]})}onSubmit(){if(!this.form.valid){this.sendErrorMessage("Please fill out all fields");return}let i={username:this.form.getRawValue().username,password:this.form.getRawValue().password};console.log(i),this.http.post(F.apiUrl+"/register",i).subscribe({next:t=>{this.loginService.login(t)},error:t=>{let m=t.status===401?t.response.data.message:"Server Error. Please try again later.";this.sendErrorMessage(m)}})}sendErrorMessage(i){this.messageService.sendErrorMessage("Registration failed!",i)}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=u({type:r,selectors:[["my-app-register"]],standalone:!0,features:[g],decls:20,vars:1,consts:[[3,"ngSubmit","formGroup"],[1,"mt-5"],["id","username","pInputText","","type","text","formControlName","username"],["for","username"],["id","password","pInputText","","type","password","formControlName","password"],["for","password"],["id","confirm_password","pInputText","","type","password","formControlName","confirmPassword"],["for","confirm_password"],["label","Submit","type","submit"]],template:function(t,m){t&1&&(e(0,"h1"),a(1,"Register"),o(),e(2,"form",0),c("ngSubmit",function(){return m.onSubmit()}),e(3,"div",1)(4,"p-floatLabel"),n(5,"input",2),e(6,"label",3),a(7,"Username"),o()()(),e(8,"div",1)(9,"p-floatLabel"),n(10,"input",4),e(11,"label",5),a(12,"Password"),o()()(),e(13,"div",1)(14,"p-floatLabel"),n(15,"input",6),e(16,"label",7),a(17,"Confirm Password"),o()()(),e(18,"div",1),n(19,"p-button",8),o()()),t&2&&(d(2),f("formGroup",m.form))},dependencies:[y,w,b,v,h,x,C,L,T,R,P,I,B]});let p=r;return p})();export{X as RegisterComponent};
